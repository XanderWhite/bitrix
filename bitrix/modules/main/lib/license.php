<? namespace Bitrix\Main;$GLOBALS['____852778091']= array(base64_decode('Zmls'.'ZV9l'.'eGlzdH'.'M='),base64_decode('c3RydG91cH'.'Bl'.'cg'.'='.'='),base64_decode('bWQ1'),base64_decode('b'.'WQ1'),base64_decode(''.'a'.'W5f'.'YXJyYX'.'k='),base64_decode('aW5f'.'YXJyYXk='),base64_decode('a'.'W5'.'fYXJyYXk'.'='),base64_decode('Z'.'G'.'VmaW5'.'lZA=='),base64_decode(''.'ZGVmaW5'.'lZA=='),base64_decode('ZGVmaW5lZA'.'=='),base64_decode('ZmlsZV9l'.'eGlz'.'d'.'HM='),base64_decode('Z'.'m'.'lsZ'.'V9le'.'G'.'lzdHM='),base64_decode('Zml'.'sZV9leGlzdHM='),base64_decode('Z'.'mlsZ'.'V9l'.'e'.'Glzd'.'HM='),base64_decode('ZXhwb'.'G9'.'kZQ'.'=='));if(!function_exists(__NAMESPACE__.'\\___1831976097')){function ___1831976097($_1867697291){static $_1734453826= false; if($_1734453826 == false) $_1734453826=array(''.'L2JpdHJpeC'.'9'.'s'.'aWNlbnNlX'.'2tle'.'S'.'5waHA=','','','REVN'.'Tw==','RE'.'VNTw==','QklUU'.'klY',''.'T'.'ElDRU5DR'.'Q==','REVN'.'Tw==',''.'L'.'2'.'tleV91cG'.'RhdGUucGhw'.'P'.'2x'.'pY2Vuc'.'2Vfa2'.'V5PQ='.'=',''.'J'.'nR'.'vYm'.'Fza2V0PXkm'.'bG'.'FuZ'.'z0=','c'.'nU=','a3o=','Y'.'nk'.'=','a'.'HR0cHM'.'6Ly9kZXYuM'.'WMtY'.'ml0cml4L'.'nJ1'.'L2xlYXJ'.'u'.'aW5nL2'.'NvdX'.'J'.'z'.'ZS9'.'pb'.'mRleC5waHA/Q'.'09V'.'UlNFX'.'0l'.'EPT'.'Ez'.'NS'.'ZM'.'RVN'.'TT0'.'5fSU'.'Q9Mj'.'U'.'3M'.'j'.'A=','aHR0cHM6Ly90cmF'.'pbm'.'luZy5i'.'a'.'XRya'.'XgyNC5jb20vc3VwcG9'.'ydC90'.'cmFpbmlu'.'Z'.'y'.'9j'.'b3Vyc2'.'UvaW'.'5kZ'.'XgucGhwP0'.'NPVVJTRV9JRD0'.'xNz'.'gmTEVTU09OX0'.'lE'.'PTI1OT'.'My'.'J'.'k'.'xFU1N'.'PTl9'.'QQV'.'RI'.'PTE3NTIwLjE3'.'NTYyLjI1O'.'TMw'.'Lj'.'I'.'1O'.'TMy','cnU=','Ynk=','a3'.'o=','ZG'.'U=','ZXU=','ZnI=','cGw=','aX'.'Q=','dWs=','ZXU=','Y'.'29t','ZW4'.'=','REV'.'N'.'Tw==','WQ==','V'.'E'.'l'.'NRUx'.'J'.'TUlU'.'X0V'.'ESV'.'R'.'JT0'.'4=','W'.'Q==','RU5DT0RF','WQ==','U'.'2l'.'0ZUV4cGly'.'ZUR'.'hdGU=','bW'.'Fpbg='.'=','fnN1cHBvcnRfZmluaX'.'NoX2RhdG'.'U=','WS'.'1tLWQ'.'=','WS1'.'tLWQ=','Yml0'.'cml4'.'MjQ'.'=','bWFpbg==',''.'flBBUkFNX0'.'NMSUVOVF9MQ'.'U5H','aW5'.'0cmFuZ'.'XQ=','ZW4=',''.'cnU=','bWFp'.'b'.'g==','d'.'m'.'V'.'uZG'.'9'.'y','d'.'W'.'FfY'.'ml0cml4'.'X'.'3Bvcn'.'RhbA'.'==','dWE=',''.'Yml0cm'.'l4X3'.'Bvc'.'nRhbA==',''.'ZW4=','M'.'WNfYml0cml4X3BvcnR'.'hbA==','cnU=',''.'L2JpdHJ'.'peC'.'9tb2'.'R1bGV'.'zL21ha'.'W4'.'vbG'.'FuZy'.'91Y'.'Q='.'=','dWE=',''.'L2Jp'.'dH'.'JpeC9tb2R1bGVzL21h'.'aW4'.'vbGFuZ'.'y'.'9'.'ieQ='.'=','Y'.'nk=','L2JpdHJpeC'.'9tb2R1bGVzL21h'.'a'.'W4vbG'.'FuZy'.'9reg==','a'.'3o=','L'.'2JpdHJpeC9tb2'.'R1bGV'.'zL21ha'.'W4vb'.'GFuZy9ydQ==','cnU=','bWFp'.'b'.'g==','flBB'.'UkFNX1BBUl'.'RORVJ'.'fSUQ=',''.'bW'.'Fp'.'bg==',''.'UEFSQU1fTUF'.'YX'.'1VT'.'R'.'V'.'J'.'T','b'.'WFpbg==','fkNPV'.'U'.'5UX0VYVFJB','Tg='.'=','WQ'.'==','ZXh'.'0cmFuZX'.'Q=','QU'.'5E'.'IFUuTEFTVF9MT'.'0dJTiA'.'+I'.'A='.'=','QU5EIF'.'UuT'.'EFTVF9MT0'.'dJ'.'TiBJUyB'.'OT1Qg'.'Tl'.'V'.'MTA'.'==','a'.'W5'.'0cmF'.'u'.'ZXQ=','ZXh0cmFuZ'.'XQ=','Z'.'Xh0c'.'m'.'FuZXRfZ3JvdXA=','bWFpbg='.'=','fmxpY2V'.'uc2Vf'.'b'.'m'.'F'.'t'.'ZQ='.'=','bW'.'F'.'pbg==',''.'fmxpY2Vuc2VfY29kZ'.'XM=','','LA==');return base64_decode($_1734453826[$_1867697291]);}}; use Bitrix\Main\Config\Option; use Bitrix\Main\Type\Date; final class License{ private?string $_719303999= null; private const DOMAINS_STORE_LICENSE=[ 'ru' => 'https://util.1c-bitrix.ru', 'ua' => 'https://util.bitrix.ua', 'en' => 'https://util.bitrixsoft.com', 'kz' => 'https://util.1c-bitrix.kz', 'by' => 'https://util.1c-bitrix.by',]; public const URL_BUS_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_bus.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_bus.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_bus.pdf', 'ua' => 'https://www.bitrix.ua/download/law/eula_bus.pdf',]; public const URL_CP_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_cp.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_cp.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_cp.pdf', 'en' => 'https://www.bitrix24.com/eula/', 'br' => 'https://www.bitrix24.com.br/eula/', 'fr' => 'https://www.bitrix24.fr/eula/', 'pl' => 'https://www.bitrix24.pl/eula/', 'it' => 'https://www.bitrix24.it/eula/', 'la' => 'https://www.bitrix24.es/eula/',]; public const URL_RENEWAL_LICENSE=[ 'com' => 'https://store.bitrix24.com/profile/license-keys.php', 'eu' => 'https://store.bitrix24.eu/profile/license-keys.php', 'de' => 'https://store.bitrix24.de/profile/license-keys.php', 'ru' => 'https://www.1c-bitrix.ru/buy/products/b24.php#tab-section-2', 'by' => 'https://www.1c-bitrix.by/buy/products/b24.php#tab-section-2', 'kz' => 'https://www.1c-bitrix.kz/buy/products/b24.php#tab-section-2',]; public function getKey(): string{ if($this->_719303999 === null){ $_1898695246= Loader::getDocumentRoot(). ___1831976097(0); $LICENSE_KEY= ___1831976097(1); if($GLOBALS['____852778091'][0]($_1898695246)){ include($_1898695246);} $this->_719303999=($LICENSE_KEY == ___1831976097(2) || $GLOBALS['____852778091'][1]($LICENSE_KEY) == ___1831976097(3)? ___1831976097(4): $LICENSE_KEY);} return $this->_719303999;} public function getHashLicenseKey(): string{ return $GLOBALS['____852778091'][2]($this->getKey());} public function getPublicHashKey(): string{ return $GLOBALS['____852778091'][3](___1831976097(5). $this->getKey(). ___1831976097(6));} public function isDemoKey(): bool{ return $this->getKey() == ___1831976097(7);} public function getBuyLink(): string{ return $this->getDomainStoreLicense(). ___1831976097(8). $this->getHashLicenseKey(). ___1831976097(9). LANGUAGE_ID;} public function getDocumentationLink(): string{ $_551041796= $this->getRegion(); if($GLOBALS['____852778091'][4]($_551041796,[___1831976097(10), ___1831976097(11), ___1831976097(12)])){ return ___1831976097(13);} return ___1831976097(14);} public function getRenewalLink(): string{ $_551041796= $this->getRegion(); if($GLOBALS['____852778091'][5]($_551041796,[___1831976097(15), ___1831976097(16), ___1831976097(17), ___1831976097(18)])){ return self::URL_RENEWAL_LICENSE[$_551041796];} if($GLOBALS['____852778091'][6]($_551041796,[___1831976097(19), ___1831976097(20), ___1831976097(21), ___1831976097(22), ___1831976097(23)])){ return self::URL_RENEWAL_LICENSE[___1831976097(24)];} return self::URL_RENEWAL_LICENSE[___1831976097(25)];} public function getDomainStoreLicense(): string{ return self::DOMAINS_STORE_LICENSE[$this->getRegion()] ?? self::DOMAINS_STORE_LICENSE[___1831976097(26)];} public function isDemo(): bool{ return $GLOBALS['____852778091'][7](___1831976097(27)) && DEMO === ___1831976097(28);} public function isTimeBound(): bool{ return $GLOBALS['____852778091'][8](___1831976097(29)) && TIMELIMIT_EDITION === ___1831976097(30);} public function isEncoded(): bool{ return $GLOBALS['____852778091'][9](___1831976097(31)) && ENCODE === ___1831976097(32);} public function getExpireDate():?Date{ $_1367866585= (int)($GLOBALS[___1831976097(33)] ??(1136/2-568)); if($_1367866585>(1264/2-632)){ return Date::createFromTimestamp($_1367866585);} return null;} public function getSupportExpireDate():?Date{ $_1367866585= Option::get(___1831976097(34), ___1831976097(35)); if(Date::isCorrect($_1367866585, ___1831976097(36))){ return new Date($_1367866585, ___1831976097(37));} return null;} public function getRegion():?string{ if(Loader::includeModule(___1831976097(38))){ return \CBitrix24::getPortalZone();} $_551041796= Option::get(___1831976097(39), ___1831976097(40)); if(!empty($_551041796)){ return $_551041796;} $_551041796= $this->__917136690(); if(!empty($_551041796)){ return $_551041796;} return $this->__152455493();} public function getEulaLink(): string{ if(ModuleManager::isModuleInstalled(___1831976097(41))){ return self::URL_CP_EULA[$this->getRegion()] ?? self::URL_CP_EULA[___1831976097(42)];} return self::URL_BUS_EULA[$this->getRegion()] ?? self::URL_BUS_EULA[___1831976097(43)];} private function __917136690():?string{ $_743438103= Option::get(___1831976097(44), ___1831976097(45)); if($_743438103 === ___1831976097(46)){ return ___1831976097(47);} if($_743438103 === ___1831976097(48)){ return ___1831976097(49);} if($_743438103 === ___1831976097(50)){ return ___1831976097(51);} return null;} private function __152455493():?string{ $_440360564= Application::getDocumentRoot(); if($GLOBALS['____852778091'][10]($_440360564. ___1831976097(52))){ return ___1831976097(53);} if($GLOBALS['____852778091'][11]($_440360564. ___1831976097(54))){ return ___1831976097(55);} if($GLOBALS['____852778091'][12]($_440360564. ___1831976097(56))){ return ___1831976097(57);} if($GLOBALS['____852778091'][13]($_440360564. ___1831976097(58))){ return ___1831976097(59);} return null;} public function getPartnerId(): int{ return (int)Option::get(___1831976097(60), ___1831976097(61),(205*2-410));} public function getMaxUsers(): int{ return (int)Option::get(___1831976097(62), ___1831976097(63),(928-2*464));} public function isExtraCountable(): bool{ return Option::get(___1831976097(64), ___1831976097(65), ___1831976097(66)) === ___1831976097(67) && ModuleManager::isModuleInstalled(___1831976097(68));} public function getActiveUsersCount(Date $_1590132066= null): int{ $_1817007229= Application::getConnection(); $_187221327= min(66,0,22); if($_1590132066 !== null){  $_1142435813= ___1831976097(69).$_1817007229->getSqlHelper()->convertToDbDate($_1590132066);} else{  $_1142435813= ___1831976097(70);} if(ModuleManager::isModuleInstalled(___1831976097(71))){ $_1153638516="
				SELECT COUNT(DISTINCT U.ID)
				FROM
					b_user U
					INNER JOIN b_user_field F ON F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
					INNER JOIN b_utm_user UF ON
						UF.FIELD_ID = F.ID
						AND UF.VALUE_ID = U.ID
						AND UF.VALUE_INT > 0
				WHERE U.ACTIVE = 'Y'
					{$_1142435813}
			"; $_187221327= (int)$_1817007229->queryScalar($_1153638516); $_301002499= (int)Option::get(___1831976097(72), ___1831976097(73)); if($_301002499> min(58,0,19.333333333333) && $this->isExtraCountable()){ $_1153638516="
						SELECT COUNT(1)
						FROM
							b_user U
							INNER JOIN b_extranet_user EU ON EU.USER_ID = U.ID AND EU.CHARGEABLE = 'Y'
							INNER JOIN b_user_group UG ON UG.USER_ID = U.ID AND UG.GROUP_ID = {$_301002499}
							LEFT JOIN (
								SELECT UF.VALUE_ID 
								FROM 
									b_user_field F
									INNER JOIN b_utm_user UF ON UF.FIELD_ID = F.ID AND UF.VALUE_INT > 0
								WHERE F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
							) D ON D.VALUE_ID = U.ID
						WHERE U.ACTIVE = 'Y'
							{$_1142435813}
							AND D.VALUE_ID IS NULL
					"; $_187221327 += (int)$_1817007229->queryScalar($_1153638516);}} return $_187221327;}  public function getName(): string{ return Option::get(___1831976097(74), ___1831976097(75));}  public function getCodes(): array{ $_1419412371= Option::get(___1831976097(76), ___1831976097(77)); if($_1419412371 != ___1831976097(78)){ return $GLOBALS['____852778091'][14](___1831976097(79), $_1419412371);} return[];}}?>